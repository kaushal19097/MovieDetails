<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter Users by Email Domain</title>
</head>
<body>

    <h2>Filter Users by Email Domain</h2>

    <label for="emailDomain">Enter Email Domain:</label>
    <input type="text" id="emailDomain" placeholder="e.g. @example.com">
    <button onclick="filterUsers()">Filter Users</button>

    <script>
        const apiUrl="https://masaiassignment-17a4f-default-rtdb.firebaseio.com/users.json";

        function filterUsers(){
            const domain=document.getElementById('emailDomain').value.trim();

            if(!domain){
                alert("Please enter a valid email domain.");
                return;
            }

            fetch(apiUrl)
                .then(response => response.json())
                .then(data =>{
                    const filteredUsers=[];                    
                    for(let key in data){
                        if(data.hasOwnProperty(key)){
                            const user=data[key];
                            if(user.email && user.email.endsWith(domain)){
                                filteredUsers.push(user);
                            }
                        }
                    }
                    console.log(filteredUsers);
                    alert("Filtered Users have been logged to the console.");
                })
                .catch(error => console.error("Error fetching data:", error));
        }
    </script>

</body>
</html>
